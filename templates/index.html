<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<body>

<script src="http://connect.soundcloud.com/sdk.js"></script>
<script>
  function getHype() { 
	SC.initialize({
		client_id: "1d09f446c1e7b9d280738927870a970b",
	});
	
	var track_url = document.getElementById('urlstr').value;
	
	SC.get('/resolve', { url: track_url }, function(track) {
		var hype = Math.pow(track.playback_count,track.favoritings_count/track.playback_count)
		var perHr = track.playback_count / Math.round(((new Date()-new Date(track.created_at)) / 3600000));
		x = document.getElementById("result")  //Find the element
		x.innerHTML="Number of Plays: " + track.playback_count + "<br/>Number of favorites: " + track.favoritings_count + "<br/>Hype: " + hype + "<br/>Plays/hr: " + perHr;
	});
  }
</script>
<style type="text/css">
#result {
	font-family:"Arial";
	font-size:22px;
}

.hypeButton {
	-moz-box-shadow:inset 0px 1px 0px 0px #caefab;
	-webkit-box-shadow:inset 0px 1px 0px 0px #caefab;
	box-shadow:inset 0px 1px 0px 0px #caefab;
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #77d42a), color-stop(1, #5cb811) );
	background:-moz-linear-gradient( center top, #77d42a 5%, #5cb811 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#77d42a', endColorstr='#5cb811');
	background-color:#77d42a;
	-moz-border-radius:6px;
	-webkit-border-radius:6px;
	border-radius:6px;
	border:1px solid #268a16;
	display:inline-block;
	color:#306108;
	font-family:arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:1px 1px 0px #aade7c;
}.hypeButton:hover {
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #5cb811), color-stop(1, #77d42a) );
	background:-moz-linear-gradient( center top, #5cb811 5%, #77d42a 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#5cb811', endColorstr='#77d42a');
	background-color:#5cb811;
}.hypeButton:active {
	position:relative;
	top:1px;
}
/* This imageless css button was generated by CSSButtonGenerator.com */

.tb5 {
	border:2px solid #456879;
	border-radius:10px;
	height: 30px;
	width: 500px;
	padding-left:12px;
}

html {
    height: 100%;
}

body{
	height: 100%;
    background-repeat: no-repeat;
    background-attachment: fixed;
	
	background: #ffffff; /* Old browsers */
    background: -moz-linear-gradient(top,  #ffffff 0%, #e5e5e5 100%); /* FF3.6+ */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e5e5e5)); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Opera 11.10+ */
    background: -ms-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* IE10+ */
    background: linear-gradient(to bottom,  #ffffff 0%,#e5e5e5 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
    font-family:"Arial";
}


</style>


<div id="maindiv" align="center" style="position:relative;top:30px">
<h1>SC Play Sort</h1>
<div id="inputdiv">
<form id="searchform" method="POST" action="search">
<input type="text" name="searchstr" id="searchinput" class="tb5" onClick="this.select();" placeholder="Search" onkeydown="if (event.keyCode == 13) document.getElementById('hypeBtn').click()">
<a href="#" id = "hypeBtn" class="hypeButton" onclick="document.getElementById('searchform').submit();">Search</a>
</form>
</div>
<br/>

<div id="resultcontainer">
   {% autoescape false %}
    {{ result }}
   {% endautoescape %}
</div>
Returns Top 10 Sorted by # of Plays
</br>
<img src="http://developers.soundcloud.com/assets/logo_big_black-75c05c178d54c50c8ff0afbb282d2c21.png" align="bottom"/>
</div>


</body>
</html>